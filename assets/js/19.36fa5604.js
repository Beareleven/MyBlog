(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{576:function(t,a,s){"use strict";s.r(a);var e=s(13),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("meta",{attrs:{name:"referrer",content:"no-referrer"}}),t._v(" "),s("p",[t._v("浏览器的本地存储主要分为："),s("code",[t._v("Cookie")]),t._v("、 "),s("code",[t._v("WebStorage")]),t._v("、 "),s("code",[t._v("IndexedDB")]),t._v("。其中WebStorage又可以分为"),s("code",[t._v("localStorage")]),t._v("和"),s("code",[t._v("sessionStorage")]),t._v("。")]),t._v(" "),s("ul",[s("li",[t._v("cookie主要用于“维持状态”，而非本地存储数据")]),t._v(" "),s("li",[t._v("Web Storage是专门为浏览器提供的数据存储机制，不与服务端发生通信")]),t._v(" "),s("li",[t._v("IndexedDB 用于客户端存储大量结构化数据")])]),t._v(" "),s("h1",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),s("p",[t._v("用于客户端存储会话信息")]),t._v(" "),s("ul",[s("li",[t._v("原理\n第一次访问网站时，浏览器发出请求，服务器响应请求后，会在响应头中添加一个Set-Cookie，将cookie放入响应请求中。\n在第二次发起请求时，浏览器自动通过HTTP请求头部的cookie字段将cookie信息送给服务器，服务端根据cookie信息辨别用户身份。")]),t._v(" "),s("li",[t._v("Cookie的过期时间、域、路径、有效期、适用站点都可以根据需要来指定。\n"),s("ul",[s("li",[t._v("name：名称，一个唯一确定的cookie的名称，cookie的名称必须经过URL编码。")]),t._v(" "),s("li",[t._v("value：值，存储在cookie中的字符串值。值必须被URL编码。")]),t._v(" "),s("li",[t._v("Domain：域，指明cookie对哪个域有效，所有向该域发送的请求都会包含这个信息。")]),t._v(" "),s("li",[t._v("path：路径，对于指定域中的那个路径，应该向服务器发送cookie。")]),t._v(" "),s("li",[t._v("Expires/Max-Age：有效期，表示cookie的有效期。")]),t._v(" "),s("li",[t._v("HttpOnly：如果这个这个值设置为true，就不能通过JS脚本获取cookie的值。通过这个值可以有效防止XSS攻击。")]),t._v(" "),s("li",[t._v("Secure：安全标志，指定后，cookie只有在使用SSL连接的时候才能发送到服务器。")])])]),t._v(" "),s("li",[t._v("客户端设置Cookie：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=zhangsan; age=20"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("缺点\n"),s("ul",[s("li",[t._v("每个特定域名下的cookie数量有限，不同浏览器数量限制不同。如果超过数量限制后再设置Cookie，浏览器就会清除以前设置的Cookie。")]),t._v(" "),s("li",[t._v("因为cookie设计的本意并不是为了存储，因此大小只有4kb正常情况下会更小。")]),t._v(" "),s("li",[t._v("每次HTTP请求都会默认带上Cookie，影响获取资源的效率。")]),t._v(" "),s("li",[t._v("Cookie的获取、设置、删除方法需要我们自己去封装。")])])])]),t._v(" "),s("h1",{attrs:{id:"web-storage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-storage"}},[t._v("#")]),t._v(" Web Storage")]),t._v(" "),s("h2",{attrs:{id:"localstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" localStorage")]),t._v(" "),s("p",[t._v("localStorage以键值对的方式存储，永久存储，永不失效，除非手动删除。")]),t._v(" "),s("ul",[s("li",[t._v("localStorage有以下几个特点：\n"),s("ul",[s("li",[t._v("优点\n"),s("ul",[s("li",[t._v("保持的数据永久有效，除非手动删除")]),t._v(" "),s("li",[t._v("大小为5M，相比cookie，可以存储更多的信息")]),t._v(" "),s("li",[t._v("仅在客户端使用，不和服务端进行通信，因此不用每次请求HTTP都被携带")]),t._v(" "),s("li",[t._v("接口封装较好")])])]),t._v(" "),s("li",[t._v("缺点\n"),s("ul",[s("li",[t._v("存在浏览器兼容问题，IE8以下版本的浏览器不支持")]),t._v(" "),s("li",[t._v("如果浏览器设置为隐私模式，那我们将无法读取到LocalStorage")]),t._v(" "),s("li",[t._v("LocalStorage受到同源策略的限制，即端口、协议、主机地址有任何一个不相同，都不会访问")])])])])]),t._v(" "),s("li",[s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API：")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'25'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取值")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除所有")]),t._v("\nlocalStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage"}},[t._v("#")]),t._v(" sessionStorage")]),t._v(" "),s("p",[t._v("sessionStorage对象存储特定于某个会话的数据，当这个会话的页签或浏览器关闭，sessionStorage也就消失了。")]),t._v(" "),s("p",[t._v("页面刷新之后，存储在sessionStorage中的数据仍然存在可用")]),t._v(" "),s("ul",[s("li",[t._v("sessionStorage的特点：\n"),s("ul",[s("li",[t._v("会话级别的浏览器存储")]),t._v(" "),s("li",[t._v("大小为5M")]),t._v(" "),s("li",[t._v("仅在客户端同一窗口使用，不和服务端通信")]),t._v(" "),s("li",[t._v("接口封装较好")])])]),t._v(" "),s("li",[s("h2",{attrs:{id:"api-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-2"}},[t._v("#")]),t._v(" API")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置")]),t._v("\nsessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'25'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取值")]),t._v("\nsessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除")]),t._v("\nsessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移除所有")]),t._v("\nsessionStorage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h1",{attrs:{id:"indexeddb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#indexeddb"}},[t._v("#")]),t._v(" IndexedDB")]),t._v(" "),s("p",[t._v("IndexedDB，全称Indexed Database API，是浏览器中保持结构化数据的一种数据库")]),t._v(" "),s("p",[t._v("IndexedDB的思想是创建一套API，方便保存和读取JavaScript对象，同时支持查询和搜索")]),t._v(" "),s("ul",[s("li",[t._v("特点\n"),s("ul",[s("li",[t._v("键值对存储：IndexedDB采用对象仓库存储数据，可以存储所有类型的数据。仓库中数据以键值对的形式保持。\n异步：IndexedDB操作时不会锁死浏览器，用户依然可以进行其他操作。")]),t._v(" "),s("li",[t._v("支持事务：有学过数据库的对事务肯定不陌生。事务意味着在一系列操作中，只要有一步失败，整个事务就都取消，数据库回滚到事务执行之前，不存在只改写一部分数据的情况。")]),t._v(" "),s("li",[t._v("同源限制：IndexedDB受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。")]),t._v(" "),s("li",[t._v("储存空间大: IndexedDB 的储存空间比 localStorage大得多，一般来说不少于 250MB，甚至没有上限。")]),t._v(" "),s("li",[t._v("支持二进制储存: IndexedDB不仅可以储存字符串，还可以储存二进制数据（ArrayBuffer 对象和 Blob 对象）。")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);